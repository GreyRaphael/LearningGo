# Preparation

- [Preparation](#preparation)
	- [Fedora](#fedora)

## Fedora

Prepare development environment
1. Install golang SDK, `sudo dnf install golang`
1. VSCode install go extension
1. VSCode, `F1`, `Go: Install/Update Tools`(需要clash, global tunneled proxy)

example: create a simple project
> [How to use Go modules](https://www.digitalocean.com/community/tutorials/how-to-use-go-modules)

```bash
mkdir proj1
cd proj1

go mod init proj1

touch main.go

go run .
# go run main.go

# build a binary 
go build

# reduce binary size
go build -ldflags="-s -w"
```

```bash
└── proj1
    └── main.go
    └── go.mod
```

```go
// main.go
package main

import "fmt"

func main() {
	fmt.Println("Hello, Modules!")
}
```

example: add custom module

```bash
└── proj1
    └── main.go
    └── go.mod
    └── mypackage
        └── mymath.go
        └── myphysics.go
```

```go
// mymath.go
package mypackage

import "fmt"

func PrintMath() {
	fmt.Println("Hello, Modules! from PrintMath!")
}
```

```go
// myphysics.go
package mypackage

import "fmt"

func PrintPhysics() {
	fmt.Println("Hello, Modules! from PrintPhysics")
}
```

```go
// main.go
package main

import (
	"fmt"
	"proj1/mypackage"
)

func main() {
	fmt.Println("hello world")
	mypackage.PrintMath()
	mypackage.PrintPhysics()
}
```

```bash
go run .
# or
go run main.go
```

example: add remote dependency from github.com, and etc.

```bash
└── proj1
    └── main.go
    └── go.mod
    └── mypackage
        └── mymath.go
        └── myphysics.go
```

```bash
# cobra被下载到 gopath/pkg
go get github.com/spf13/cobra
```

```go
// main.go
package main

import (
	"fmt"
	"proj1/mypackage"

	"github.com/spf13/cobra"
)

func main() {
	cmd := &cobra.Command{
		Run: func(cmd *cobra.Command, args []string) {
			fmt.Println("Hello World!")
			mypackage.PrintMath()
			mypackage.PrintPhysics()
		},
	}
	cmd.Execute()
}
```